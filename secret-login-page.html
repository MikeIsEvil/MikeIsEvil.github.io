<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mike Is Evil? Login page</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Germania+One|Open+Sans:300" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#293743">
    <meta name="msapplication-TileColor" content="#293743">
    <meta name="theme-color" content="#293743">
</head>
<body>
    <div class="site-wrapper">
        <header class="site-header">
            <h1 class="site-title">Top secret <span class="second-line">login page!</span></h1>
        </header>
        <main class="main-content">
            <p>This page is used as a "top secret" login page that is referred to in an HTML comment (information disclosure).</p>
            <p>You may want to check the JavaScript console when submitting this form - it demonstrates how JS may have been used to steal your data from right under your nose! This data could've been sent off to a remote server silently.</p>
            <p><a href="javascript:history.back()">Go back!</a></p>
            <form id="login-form" action="secret-login-page.html" method="post" class="form">
              <div class="form__field-group">
                <label class="form__label--fixed-width" for="username">Username:</label>
                <input type="text" id="username" name="username" autofocus required>
              </div>
              <div class="form__field-group">
                <label class="form__label--fixed-width" for="password">Password:</label>
                <input type="password" id="password" name="password" required>
              </div>
              <div class="form__field-group">
                <button class="form__button form__button--primary" type="submit" name="login_submit">Login</button>
              </div>
            </form>
        </main>
    </div>

    <script>

      // Login form submission JS
      (() => {

        // Get login form and cancel if it ain't exist
        const loginForm = document.getElementById("login-form")

        if (!loginForm) return

        loginForm.addEventListener("submit", (ev) => {

          // Cancel submit
          ev.preventDefault()

          // Evil message
          const msg = document.createElement("p")
          msg.classList.add("message", "message--success")
          msg.appendChild(document.createTextNode("Thanks for your login details! Mwahahaha! ðŸ˜ˆðŸ˜ˆðŸ˜ˆðŸ˜ˆ"))

          // Show message, remove form contents
          loginForm.replaceChildren(msg)

        })

      })()

    </script>
</body>
</html>
